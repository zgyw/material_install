{"version":3,"sources":["webpack:///src/views/menu/NewMaterial.vue","webpack:///./src/views/menu/NewMaterial.vue?04b4","webpack:///./src/views/menu/NewMaterial.vue"],"names":["NewMaterial","data","labelPosition","orderArr","classificationOptions","materielForm","classifyId","code","potting","factoryModel","quantity","model","brand","supplier","website","remarks","price","orderId","photo","materielRules","required","message","trigger","imageUrl","materielFile","isDialogImport","importForm","file","methods","submitForm","formName","_this","this","$refs","validate","valid","isNaN","$message","error","parseInt","formDate","FormData","i","append","$postForm","then","res","$notify","title","type","id","msg","resetForm","resetFields","exportModel","_this2","$getFile","console","log","link","document","createElement","blob","Blob","style","display","href","window","URL","createObjectURL","fileName","decodeURI","headers","match","setAttribute","body","appendChild","click","removeChild","catch","openDialog","importNewMaterial","_this3","err","beforeAvatarUpload","size","isLt2M","fileChange","raw","fileChangeT","getInOrder","_this4","$get","length","getClassifyList","_this5","obj","name","push","created","menu_NewMaterial","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","float","margin-left","attrs","on","_v","ref","label-position","rules","inline","label-width","label","prop","placeholder","value","callback","$$v","$set","expression","_l","item","key","autosize","minRows","maxRows","action","on-change","show-file-list","before-upload","auto-upload","src","width","height","$event","visible","close-on-click-modal","update:visible","position","accept","background-color","slot","color","font-size","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.2cf17a41b2db906c120f.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"header-line\">\r\n      <el-button type=\"primary\" style=\"float: right; margin-left: 10px\" @click=\"openDialog\">导入</el-button>\r\n      <el-button type=\"primary\" style=\"float: right; margin-left: 10px\" @click=\"exportModel\">导出模板</el-button>\r\n      <p>&nbsp</p>\r\n    </div>\r\n\r\n    <div class=\"rule-form\">\r\n      <el-form\r\n        :label-position=\"labelPosition\"\r\n        :model=\"materielForm\"\r\n        :rules=\"materielRules\"\r\n        :inline=\"false\"\r\n        ref=\"materielForm\"\r\n        label-width=\"auto\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <div>\r\n          <el-form-item label=\"所属订单\" prop=\"orderId\" class=\"inline-input-width\">\r\n            <el-select v-model=\"materielForm.orderId\" placeholder=\"请选择订单\">\r\n              <el-option\r\n                v-for=\"item in orderArr\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"分类:\" prop=\"classifyId\" class=\"inline-input-width\">\r\n            <el-select v-model=\"materielForm.classifyId\" placeholder=\"请选择分类\">\r\n              <el-option\r\n                v-for=\"item in classificationOptions\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n        </div>\r\n        <div>\r\n          <el-form-item label=\"编码\" prop=\"code\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.code\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"型号\" prop=\"model\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.model\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n\r\n        <div>\r\n          <el-form-item label=\"封装\" prop=\"potting\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.potting\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"厂家型号:\" prop=\"factoryModel\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.factoryModel\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n\r\n        <div>\r\n          <el-form-item label=\"数量\" prop=\"quantity\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.quantity\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"品牌\" prop=\"brand\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.brand\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n\r\n        <div>\r\n          <el-form-item label=\"供应商\" prop=\"supplier\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.supplier\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"网址\" prop=\"website\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.website\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n\r\n        <div style=\"display: inline-block\">\r\n          <div style=\"float: left\">\r\n            <div>\r\n              <el-form-item label=\"价格\" prop=\"price\" class=\"inline-input-width\">\r\n                <el-input v-model=\"materielForm.price\"></el-input>\r\n              </el-form-item>\r\n            </div>\r\n            <div>\r\n              <el-form-item label=\"备注\" prop=\"remarks\" class=\"inline-input-width\">\r\n                <el-input\r\n                  type=\"textarea\"\r\n                  v-model=\"materielForm.remarks\"\r\n                  :autosize=\"{ minRows: 3, maxRows: 10 }\"\r\n                ></el-input>\r\n              </el-form-item>\r\n            </div>\r\n          </div>\r\n\r\n          <div style=\"float: right\">\r\n            <el-form-item label=\"图片\" prop=\"photo\" class=\"inline-input-width\">\r\n              <el-upload\r\n                class=\"avatar-uploader\"\r\n                action\r\n                :on-change=\"fileChange\"\r\n                :show-file-list=\"false\"\r\n                :before-upload=\"beforeAvatarUpload\"\r\n                :auto-upload=\"false\"\r\n              >\r\n                <img v-if=\"imageUrl\" :src=\"imageUrl\" width=\"120\" height=\"120\" class=\"avatar\" />\r\n                <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n              </el-upload>\r\n            </el-form-item>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <el-form-item class=\"inline-input-width\">\r\n            <el-button type=\"primary\" @click=\"submitForm('materielForm')\">确定</el-button>\r\n            <el-button @click=\"resetForm('materielForm')\">重置</el-button>\r\n          </el-form-item>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 上传文件 -->\r\n    <el-dialog\r\n      :visible.sync=\"isDialogImport\"\r\n      :close-on-click-modal=\"false\"\r\n      width=\"500px\"\r\n      title=\"上传文件\"\r\n      class=\"el-dialog__wrap\"\r\n    >\r\n      <el-form :model=\"importForm\" label-width=\"100px\" class=\"form\">\r\n        <el-form-item label=\"选择文件\" prop=\"file\" style=\"position: relative;\">\r\n          <el-upload\r\n            action\r\n            class=\"upload-demo\"\r\n            :on-change=\"fileChangeT\"\r\n            :show-file-list=\"false\"\r\n            :auto-upload=\"false\"\r\n            accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n          >\r\n            <el-button slot=\"trigger\" size=\"small\" style=\"background-color:#dfe3e9\">选择</el-button>\r\n          </el-upload>\r\n          <span style=\"color: DarkOrange; font-size: 16px\">{{importForm.file.name}}</span>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"importNewMaterial\">确 定</el-button>\r\n        <el-button @click=\"isDialogImport = false\">取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      labelPosition: \"right\",\r\n      orderArr: [], //订单数组\r\n      classificationOptions: [], //分类数组\r\n      materielForm: {\r\n        classifyId: \"\", //分类id\r\n        code: \"\", //编码\r\n        potting: \"\", //封装\r\n        factoryModel: \"\", //厂家型号\r\n        quantity: \"\", //数量\r\n        model: \"\", //型号\r\n        brand: \"\", //品牌\r\n        supplier: \"\", //供应商\r\n        website: \"\", //网址\r\n        remarks: \"\", //备注\r\n        price: \"\", //单价\r\n        orderId: \"\", //订单id\r\n        photo: \"\" //图片地址\r\n      },\r\n      materielRules: {\r\n        code: [{ required: true, message: \"编码不能为空\", trigger: \"blur\" }],\r\n        classifyId: [\r\n          { required: true, message: \"分类不能为空\", trigger: \"blur\" }\r\n        ],\r\n        quantity: [\r\n          { required: true, message: \"数量不能为空\", trigger: \"blur\" }\r\n        ],\r\n        orderId: [\r\n          { required: true, message: \"订单不能为空\", trigger: \"change\" }\r\n        ]\r\n      },\r\n      imageUrl: \"\", // 上传图片\r\n      materielFile: \"\", //图片文件\r\n      isDialogImport: false, //上传文件弹窗\r\n      importForm: {\r\n        file: \"\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate(valid => {\r\n        if (valid) {\r\n          if (isNaN(this.materielForm.quantity)) {\r\n            this.$message.error(\"数量只能是数值类型\");\r\n            return;\r\n          }\r\n          let data = {\r\n            code: this.materielForm.code,\r\n            classifyId: this.materielForm.classifyId,\r\n            potting: this.materielForm.potting,\r\n            quantity: parseInt(this.materielForm.quantity),\r\n            model: this.materielForm.model,\r\n            brand: this.materielForm.brand,\r\n            supplier: this.materielForm.supplier,\r\n            website: this.materielForm.website,\r\n            price: this.materielForm.price,\r\n            remarks: this.materielForm.remarks,\r\n            factoryModel: this.materielForm.factoryModel,\r\n            orderId: this.materielForm.orderId\r\n          };\r\n          const formDate = new FormData();\r\n          if (this.materielFile) {\r\n            formDate.append(\"file\", this.materielFile);\r\n          }\r\n          for (let i in data) {\r\n            formDate.append(i, data[i]);\r\n          }\r\n          this.$postForm(\"/materielLevel/putInWare\", formDate).then(res => {\r\n            if (res.code == 0) {\r\n              this.$notify({\r\n                title: \"成功\",\r\n                message: \"新增物料成功\",\r\n                type: \"success\"\r\n              });\r\n              this.materielForm = {};\r\n              this.materielForm.classifyId = this.classificationOptions[0].id;\r\n              this.materielForm.orderId = this.orderArr[0].id;\r\n              this.imageUrl = \"\";\r\n            } else {\r\n              this.$message.error(res.msg);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n      this.materielForm = {};\r\n      this.materielForm.classifyId = this.classificationOptions[0].id;\r\n      this.materielForm.orderId = this.orderArr[0].id;\r\n      this.imageUrl = \"\";\r\n    },\r\n    exportModel() {\r\n      this.$getFile(\"/materielLevel/exportTemplate\")\r\n        .then(res => {\r\n          console.log(res);\r\n          console.log(res.data);\r\n          const link = document.createElement(\"a\");\r\n          const blob = new Blob([res.data], {\r\n            type:\r\n              \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8\"\r\n          });\r\n          link.style.display = \"none\";\r\n          link.href = window.URL.createObjectURL(blob);\r\n          let fileName = window.decodeURI(\r\n            res.headers[\"content-disposition\"].match(/=(.*)$/)[1]\r\n          );\r\n          link.setAttribute(\"download\", fileName);\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          document.body.removeChild(link);\r\n          this.$notify({\r\n            title: \"成功\",\r\n            message: \"模板下载成功\",\r\n            type: \"success\"\r\n          });\r\n        })\r\n        .catch(error => {\r\n          this.$message.error(\"模板下载失败\");\r\n        });\r\n    },\r\n    openDialog() {\r\n      this.importForm.file = \"\";\r\n      this.isDialogImport = true;\r\n    },\r\n    importNewMaterial() {\r\n      if (!this.importForm.file) {\r\n        this.$message.error(\"请选择文件之后再进行导入!!!\");\r\n        return  \r\n      }\r\n      const formDate = new FormData();\r\n      formDate.append(\"file\", this.importForm.file);\r\n      this.$postForm(\"/materielLevel/importMateriel\", formDate).then(res => {\r\n        if (res.code == 0) {\r\n          this.$notify({\r\n            title: \"成功\",\r\n            message: \"导入文件成功\",\r\n            type: \"success\"\r\n          });\r\n          this.importForm.file = \"\"\r\n          this.materielForm.classifyId = this.classificationOptions[0].id;\r\n          this.materielForm.orderId = this.orderArr[0].id;\r\n          this.isDialogImport = false;\r\n        } else {\r\n          this.$message.error(res.msg);\r\n        }\r\n      }).catch(err => {\r\n        this.$message.error(\"导入文件出错\");\r\n      });\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      console.log(file.size);\r\n      const isLt2M = file.size / 1024 / 1024 / 10 < 2;\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传物料图片大小不能超过 200kb!\");\r\n      }\r\n      return isLt2M;\r\n    },\r\n    fileChange(file) {\r\n      console.log(file);\r\n      this.materielFile = file.raw;\r\n      this.imageUrl = URL.createObjectURL(file.raw);\r\n    },\r\n    fileChangeT(file) {\r\n      this.importForm.file = file.raw;\r\n    },\r\n    //获取所有入库订单\r\n    getInOrder() {\r\n      let param = {\r\n        type: 1\r\n      };\r\n      this.orderArr = [];\r\n      this.$get(\"/orderRecords/findByType\", param).then(res => {\r\n        if (res.code == 0) {\r\n          this.orderArr = res.data;\r\n          if (res.data.length > 0) {\r\n            this.materielForm.orderId = res.data[0].id;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    // 得到分类集合\r\n    getClassifyList() {\r\n      this.classificationOptions = [];\r\n      this.$get(\"/classify/findAll\").then(res => {\r\n        if (res.code == 0) {\r\n          for (let i = 0; i < res.data.length; i++) {\r\n            let obj = {};\r\n            obj.id = res.data[i].id;\r\n            obj.name = res.data[i].name;\r\n            this.classificationOptions.push(obj);\r\n          }\r\n          if (res.data.length > 0) {\r\n            this.materielForm.classifyId = res.data[0].id;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getInOrder();\r\n    this.getClassifyList();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.header-line {\r\n  padding: 5px;\r\n  border-bottom: 1px solid #8fc7ba;\r\n  // margin-bottom: 5px;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n.rule-form {\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\r\n  overflow-y: auto;\r\n  // margin-top: 10px;\r\n  padding-top: 10px;\r\n\r\n  .inline-input-width {\r\n    display: inline-block;\r\n    width: 460px;\r\n  }\r\n\r\n  /deep/ .el-select {\r\n    width: 100%;\r\n  }\r\n\r\n  /deep/ .el-upload--text {\r\n    float: left;\r\n  }\r\n}\r\n\r\n.form {\r\n  /deep/ .el-form-item__content {\r\n    text-align: left;\r\n    .upload-demo {\r\n      text-align: left;\r\n      float: left;\r\n      width: 65px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/menu/NewMaterial.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"header-line\"},[_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.openDialog}},[_vm._v(\"导入\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.exportModel}},[_vm._v(\"导出模板\")]),_vm._v(\" \"),_c('p',[_vm._v(\" \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"rule-form\"},[_c('el-form',{ref:\"materielForm\",staticClass:\"demo-ruleForm\",attrs:{\"label-position\":_vm.labelPosition,\"model\":_vm.materielForm,\"rules\":_vm.materielRules,\"inline\":false,\"label-width\":\"auto\"}},[_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"所属订单\",\"prop\":\"orderId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择订单\"},model:{value:(_vm.materielForm.orderId),callback:function ($$v) {_vm.$set(_vm.materielForm, \"orderId\", $$v)},expression:\"materielForm.orderId\"}},_vm._l((_vm.orderArr),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"分类:\",\"prop\":\"classifyId\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择分类\"},model:{value:(_vm.materielForm.classifyId),callback:function ($$v) {_vm.$set(_vm.materielForm, \"classifyId\", $$v)},expression:\"materielForm.classifyId\"}},_vm._l((_vm.classificationOptions),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"编码\",\"prop\":\"code\"}},[_c('el-input',{model:{value:(_vm.materielForm.code),callback:function ($$v) {_vm.$set(_vm.materielForm, \"code\", $$v)},expression:\"materielForm.code\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"型号\",\"prop\":\"model\"}},[_c('el-input',{model:{value:(_vm.materielForm.model),callback:function ($$v) {_vm.$set(_vm.materielForm, \"model\", $$v)},expression:\"materielForm.model\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"封装\",\"prop\":\"potting\"}},[_c('el-input',{model:{value:(_vm.materielForm.potting),callback:function ($$v) {_vm.$set(_vm.materielForm, \"potting\", $$v)},expression:\"materielForm.potting\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"厂家型号:\",\"prop\":\"factoryModel\"}},[_c('el-input',{model:{value:(_vm.materielForm.factoryModel),callback:function ($$v) {_vm.$set(_vm.materielForm, \"factoryModel\", $$v)},expression:\"materielForm.factoryModel\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"数量\",\"prop\":\"quantity\"}},[_c('el-input',{model:{value:(_vm.materielForm.quantity),callback:function ($$v) {_vm.$set(_vm.materielForm, \"quantity\", $$v)},expression:\"materielForm.quantity\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"品牌\",\"prop\":\"brand\"}},[_c('el-input',{model:{value:(_vm.materielForm.brand),callback:function ($$v) {_vm.$set(_vm.materielForm, \"brand\", $$v)},expression:\"materielForm.brand\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"供应商\",\"prop\":\"supplier\"}},[_c('el-input',{model:{value:(_vm.materielForm.supplier),callback:function ($$v) {_vm.$set(_vm.materielForm, \"supplier\", $$v)},expression:\"materielForm.supplier\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"网址\",\"prop\":\"website\"}},[_c('el-input',{model:{value:(_vm.materielForm.website),callback:function ($$v) {_vm.$set(_vm.materielForm, \"website\", $$v)},expression:\"materielForm.website\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"价格\",\"prop\":\"price\"}},[_c('el-input',{model:{value:(_vm.materielForm.price),callback:function ($$v) {_vm.$set(_vm.materielForm, \"price\", $$v)},expression:\"materielForm.price\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"备注\",\"prop\":\"remarks\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 10 }},model:{value:(_vm.materielForm.remarks),callback:function ($$v) {_vm.$set(_vm.materielForm, \"remarks\", $$v)},expression:\"materielForm.remarks\"}})],1)],1)]),_vm._v(\" \"),_c('div',{staticStyle:{\"float\":\"right\"}},[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"图片\",\"prop\":\"photo\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"on-change\":_vm.fileChange,\"show-file-list\":false,\"before-upload\":_vm.beforeAvatarUpload,\"auto-upload\":false}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl,\"width\":\"120\",\"height\":\"120\"}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)],1)]),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('materielForm')}}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('materielForm')}}},[_vm._v(\"重置\")])],1)],1)])],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"el-dialog__wrap\",attrs:{\"visible\":_vm.isDialogImport,\"close-on-click-modal\":false,\"width\":\"500px\",\"title\":\"上传文件\"},on:{\"update:visible\":function($event){_vm.isDialogImport=$event}}},[_c('el-form',{staticClass:\"form\",attrs:{\"model\":_vm.importForm,\"label-width\":\"100px\"}},[_c('el-form-item',{staticStyle:{\"position\":\"relative\"},attrs:{\"label\":\"选择文件\",\"prop\":\"file\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"\",\"on-change\":_vm.fileChangeT,\"show-file-list\":false,\"auto-upload\":false,\"accept\":\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"}},[_c('el-button',{staticStyle:{\"background-color\":\"#dfe3e9\"},attrs:{\"slot\":\"trigger\",\"size\":\"small\"},slot:\"trigger\"},[_vm._v(\"选择\")])],1),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"DarkOrange\",\"font-size\":\"16px\"}},[_vm._v(_vm._s(_vm.importForm.file.name))])],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.importNewMaterial}},[_vm._v(\"确 定\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.isDialogImport = false}}},[_vm._v(\"取 消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-415a5948\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/menu/NewMaterial.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-415a5948\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NewMaterial.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewMaterial.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewMaterial.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-415a5948\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./NewMaterial.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-415a5948\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/menu/NewMaterial.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}