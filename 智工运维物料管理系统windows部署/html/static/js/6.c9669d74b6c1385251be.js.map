{"version":3,"sources":["webpack:///src/views/menu/NewMaterial.vue","webpack:///./src/views/menu/NewMaterial.vue?4a3a","webpack:///./src/views/menu/NewMaterial.vue"],"names":["NewMaterial","data","labelPosition","orderArr","classificationOptions","materielForm","classifyId","code","potting","factoryModel","quantity","model","brand","supplier","website","remarks","price","orderId","photo","materielRules","required","message","trigger","imageUrl","materielFile","isDialogImport","importForm","file","valueDetail","methods","submitForm","formName","_this","this","$refs","validate","valid","isNaN","$message","error","length","parseInt","note","formDate","FormData","i","append","$postForm","then","res","$notify","title","type","id","msg","resetForm","resetFields","exportModel","_this2","$getFile","console","log","link","document","createElement","blob","Blob","style","display","href","window","URL","createObjectURL","fileName","decodeURI","headers","match","setAttribute","body","appendChild","click","removeChild","catch","openDialog","importNewMaterial","_this3","err","beforeAvatarUpload","size","isLt2M","fileChange","raw","fileChangeT","getClassifyList","_this4","$get","obj","name","children","push","_obj","groupId","created","menu_NewMaterial","render","_vm","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","label-position","rules","inline","label-width","label","prop","placeholder","clearable","filterable","show-all-levels","options","props","expandTrigger","value","callback","$$v","expression","$set","staticStyle","float","autosize","minRows","maxRows","action","on-change","show-file-list","before-upload","auto-upload","src","width","height","on","$event","visible","close-on-click-modal","update:visible","position","accept","background-color","slot","color","font-size","_s","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/6.c9669d74b6c1385251be.js","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"header-line\">\r\n      <!-- <el-button type=\"primary\" style=\"float: right; margin-left: 10px\" @click=\"openDialog\">导入</el-button>\r\n      <el-button type=\"primary\" style=\"float: right; margin-left: 10px\" @click=\"exportModel\">导出模板</el-button>\r\n      <p>&nbsp</p> -->\r\n    </div>\r\n\r\n    <div class=\"rule-form\">\r\n      <el-form\r\n        :label-position=\"labelPosition\"\r\n        :model=\"materielForm\"\r\n        :rules=\"materielRules\"\r\n        :inline=\"false\"\r\n        ref=\"materielForm\"\r\n        label-width=\"auto\"\r\n        class=\"demo-ruleForm\"\r\n      >\r\n        <div>\r\n          <!-- <el-form-item\r\n            label=\"所属订单\"\r\n            prop=\"orderId\"\r\n            class=\"inline-input-width\"\r\n          >\r\n            <el-select v-model=\"materielForm.orderId\" placeholder=\"请选择订单\">\r\n              <el-option\r\n                v-for=\"item in orderArr\"\r\n                :key=\"item.id\"\r\n                :label=\"item.name\"\r\n                :value=\"item.id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item> -->\r\n          <el-form-item\r\n            label=\"分类\"\r\n            prop=\"classifyId\"\r\n            class=\"inline-input-width\"\r\n          >\r\n            <el-cascader\r\n              v-model=\"valueDetail\"\r\n              placeholder=\"请选择分类\"\r\n              clearable\r\n              filterable\r\n              :show-all-levels=\"false\"\r\n              :options=\"classificationOptions\"\r\n              :props=\"{ expandTrigger: 'hover', label: 'name', value: 'id' }\"\r\n            ></el-cascader>\r\n          </el-form-item>\r\n          <el-form-item label=\"编码\" prop=\"code\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.code\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <div>\r\n          <el-form-item label=\"数量\" prop=\"quantity\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.quantity\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"封装\" prop=\"potting\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.potting\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n\r\n        <div>\r\n          <el-form-item label=\"型号\" prop=\"model\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.model\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"厂家型号\"\r\n            prop=\"factoryModel\"\r\n            class=\"inline-input-width\"\r\n          >\r\n            <el-input v-model=\"materielForm.factoryModel\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n\r\n        <div>\r\n          <el-form-item label=\"品牌\" prop=\"brand\" class=\"inline-input-width\">\r\n            <el-input v-model=\"materielForm.brand\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"价格\"\r\n            prop=\"price\"\r\n            class=\"inline-input-width\"\r\n            style=\"float: rigt\"\r\n          >\r\n            <el-input v-model=\"materielForm.price\"></el-input>\r\n          </el-form-item>\r\n        </div>\r\n        <div style=\"display: inline-block\">\r\n          <div style=\"float: left\">\r\n            <el-form-item\r\n              label=\"供应商\"\r\n              prop=\"supplier\"\r\n              class=\"inline-input-width\"\r\n            >\r\n              <el-input\r\n                type=\"textarea\"\r\n                :autosize=\"{ minRows: 3, maxRows: 10 }\"\r\n                v-model=\"materielForm.supplier\"\r\n              ></el-input>\r\n            </el-form-item>\r\n            <div></div>\r\n            <el-form-item\r\n              label=\"描述(规格)\"\r\n              prop=\"remarks\"\r\n              class=\"inline-input-width\"\r\n            >\r\n              <el-input\r\n                type=\"textarea\"\r\n                v-model=\"materielForm.remarks\"\r\n                :autosize=\"{ minRows: 3, maxRows: 10 }\"\r\n              ></el-input>\r\n            </el-form-item>\r\n          </div>\r\n\r\n          <div style=\"float: right\">\r\n            <div></div>\r\n            <el-form-item label=\"图片\" prop=\"photo\" class=\"inline-input-width\">\r\n              <el-upload\r\n                class=\"avatar-uploader\"\r\n                action\r\n                :on-change=\"fileChange\"\r\n                :show-file-list=\"false\"\r\n                :before-upload=\"beforeAvatarUpload\"\r\n                :auto-upload=\"false\"\r\n              >\r\n                <img\r\n                  v-if=\"imageUrl\"\r\n                  :src=\"imageUrl\"\r\n                  width=\"120\"\r\n                  height=\"120\"\r\n                  class=\"avatar\"\r\n                />\r\n                <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n              </el-upload>\r\n            </el-form-item>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <el-form-item\r\n            label=\"备注\"\r\n            prop=\"note\"\r\n            class=\"inline-input-width\"\r\n            style=\"width: 920px\"\r\n          >\r\n            <el-input\r\n              type=\"textarea\"\r\n              v-model=\"materielForm.note\"\r\n              :autosize=\"{ minRows: 3, maxRows: 10 }\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </div>\r\n\r\n        <div>\r\n          <el-form-item class=\"inline-input-width\">\r\n            <el-button type=\"primary\" @click=\"submitForm('materielForm')\"\r\n              >确定</el-button\r\n            >\r\n            <el-button @click=\"resetForm('materielForm')\">重置</el-button>\r\n          </el-form-item>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n\r\n    <!-- 上传文件 -->\r\n    <el-dialog\r\n      :visible.sync=\"isDialogImport\"\r\n      :close-on-click-modal=\"false\"\r\n      width=\"500px\"\r\n      title=\"上传文件\"\r\n      class=\"el-dialog__wrap\"\r\n    >\r\n      <el-form :model=\"importForm\" label-width=\"100px\" class=\"form\">\r\n        <el-form-item label=\"选择文件\" prop=\"file\" style=\"position: relative\">\r\n          <el-upload\r\n            action\r\n            class=\"upload-demo\"\r\n            :on-change=\"fileChangeT\"\r\n            :show-file-list=\"false\"\r\n            :auto-upload=\"false\"\r\n            accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"\r\n          >\r\n            <el-button\r\n              slot=\"trigger\"\r\n              size=\"small\"\r\n              style=\"background-color: #dfe3e9\"\r\n              >选择</el-button\r\n            >\r\n          </el-upload>\r\n          <span style=\"color: DarkOrange; font-size: 16px\">{{\r\n            importForm.file.name\r\n          }}</span>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"importNewMaterial\">确 定</el-button>\r\n        <el-button @click=\"isDialogImport = false\">取 消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      labelPosition: \"right\",\r\n      orderArr: [], //订单数组\r\n      classificationOptions: [], //分类数组\r\n      materielForm: {\r\n        classifyId: \"\", //分类id\r\n        code: \"\", //编码\r\n        potting: \"\", //封装\r\n        factoryModel: \"\", //厂家型号\r\n        quantity: \"\", //数量\r\n        model: \"\", //型号\r\n        brand: \"\", //品牌\r\n        supplier: \"\", //供应商\r\n        website: \"\", //网址\r\n        remarks: \"\", //备注\r\n        price: \"\", //单价\r\n        orderId: \"\", //订单id\r\n        photo: \"\", //图片地址\r\n      },\r\n      materielRules: {\r\n        code: [{ required: true, message: \"编码不能为空\", trigger: \"blur\" }],\r\n        classifyId: [\r\n          { required: true, message: \"分类不能为空\", trigger: \"blur\" },\r\n        ],\r\n        quantity: [\r\n          { required: true, message: \"数量不能为空\", trigger: \"blur\" },\r\n        ],\r\n        orderId: [\r\n          { required: true, message: \"订单不能为空\", trigger: \"change\" },\r\n        ],\r\n      },\r\n      imageUrl: \"\", // 上传图片\r\n      materielFile: \"\", //图片文件\r\n      isDialogImport: false, //上传文件弹窗\r\n      importForm: {\r\n        file: \"\",\r\n      },\r\n      valueDetail: [],\r\n    };\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          if (isNaN(this.materielForm.quantity)) {\r\n            this.$message.error(\"数量只能是数值类型\");\r\n            return;\r\n          }\r\n          if (this.valueDetail.length == 0) {\r\n            this.$message.error(\"类别不能为空\");\r\n            return;\r\n          }\r\n          let data = {\r\n            code: this.materielForm.code,\r\n            classifyId: this.valueDetail[1],\r\n            potting: this.materielForm.potting,\r\n            quantity: parseInt(this.materielForm.quantity),\r\n            model: this.materielForm.model,\r\n            brand: this.materielForm.brand,\r\n            supplier: this.materielForm.supplier,\r\n            note: this.materielForm.note,\r\n            price: this.materielForm.price,\r\n            remarks: this.materielForm.remarks,\r\n            factoryModel: this.materielForm.factoryModel,\r\n            // orderId: this.materielForm.orderId,\r\n          };\r\n          const formDate = new FormData();\r\n          if (this.materielFile) {\r\n            formDate.append(\"file\", this.materielFile);\r\n          }\r\n          for (let i in data) {\r\n            formDate.append(i, data[i]);\r\n          }\r\n          this.$postForm(\"/materielLevel/putInWare\", formDate).then((res) => {\r\n            if (res.code == 0) {\r\n              this.$notify({\r\n                title: \"成功\",\r\n                message: \"新增物料成功\",\r\n                type: \"success\",\r\n              });\r\n              this.materielForm = {};\r\n              this.materielForm.classifyId = this.classificationOptions[0].id;\r\n              // this.materielForm.orderId = this.orderArr[0].id;\r\n              this.imageUrl = \"\";\r\n            } else {\r\n              this.$message.error(res.msg);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n      this.materielForm = {};\r\n      this.materielForm.classifyId = this.classificationOptions[0].id;\r\n      // this.materielForm.orderId = this.orderArr[0].id;\r\n      this.imageUrl = \"\";\r\n    },\r\n    exportModel() {\r\n      this.$getFile(\"/materielLevel/exportTemplate\")\r\n        .then((res) => {\r\n          console.log(res);\r\n          console.log(res.data);\r\n          const link = document.createElement(\"a\");\r\n          const blob = new Blob([res.data], {\r\n            type:\r\n              \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8\",\r\n          });\r\n          link.style.display = \"none\";\r\n          link.href = window.URL.createObjectURL(blob);\r\n          let fileName = window.decodeURI(\r\n            res.headers[\"content-disposition\"].match(/=(.*)$/)[1]\r\n          );\r\n          link.setAttribute(\"download\", fileName);\r\n          document.body.appendChild(link);\r\n          link.click();\r\n          document.body.removeChild(link);\r\n          this.$notify({\r\n            title: \"成功\",\r\n            message: \"模板下载成功\",\r\n            type: \"success\",\r\n          });\r\n        })\r\n        .catch((error) => {\r\n          this.$message.error(\"模板下载失败\");\r\n        });\r\n    },\r\n    openDialog() {\r\n      this.importForm.file = \"\";\r\n      this.isDialogImport = true;\r\n    },\r\n    importNewMaterial() {\r\n      if (!this.importForm.file) {\r\n        this.$message.error(\"请选择文件之后再进行导入!!!\");\r\n        return;\r\n      }\r\n      const formDate = new FormData();\r\n      formDate.append(\"file\", this.importForm.file);\r\n      this.$postForm(\"/materielLevel/importMateriel\", formDate)\r\n        .then((res) => {\r\n          if (res.code == 0) {\r\n            this.$notify({\r\n              title: \"成功\",\r\n              message: \"导入文件成功\",\r\n              type: \"success\",\r\n            });\r\n            this.importForm.file = \"\";\r\n            this.materielForm.classifyId = this.classificationOptions[0].id;\r\n            // this.materielForm.orderId = this.orderArr[0].id;\r\n            this.isDialogImport = false;\r\n          } else {\r\n            this.$message.error(res.msg);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          this.$message.error(\"导入文件出错\");\r\n        });\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      console.log(file.size);\r\n      const isLt2M = file.size / 1024 / 1024 / 10 < 2;\r\n      if (!isLt2M) {\r\n        this.$message.error(\"上传物料图片大小不能超过 200kb!\");\r\n      }\r\n      return isLt2M;\r\n    },\r\n    fileChange(file) {\r\n      console.log(file);\r\n      this.materielFile = file.raw;\r\n      this.imageUrl = URL.createObjectURL(file.raw);\r\n    },\r\n    fileChangeT(file) {\r\n      this.importForm.file = file.raw;\r\n    },\r\n    //获取所有入库订单\r\n    // getInOrder() {\r\n    //   let param = {\r\n    //     type: 1,\r\n    //   };\r\n    //   this.orderArr = [];\r\n    //   this.$get(\"/orderRecords/findByType\", param).then((res) => {\r\n    //     if (res.code == 0) {\r\n    //       this.orderArr = res.data;\r\n    //       if (res.data.length > 0) {\r\n    //         this.materielForm.orderId = res.data[0].id;\r\n    //       }\r\n    //     }\r\n    //   });\r\n    // },\r\n    // 得到分类集合\r\n    getClassifyList() {\r\n      this.classificationOptions = [];\r\n      this.$get(\"/classify/findAll\").then((res) => {\r\n        if (res.code == 0) {\r\n          for (let i = 0; i < res.data.length; i++) {\r\n            let obj = {};\r\n            obj.id = res.data[i].id;\r\n            obj.name = res.data[i].name;\r\n            obj.children = res.data[i].children;\r\n            this.classificationOptions.push(obj);\r\n          }\r\n          if (res.data.length > 0) {\r\n            this.materielForm.classifyId = res.data[0].id;\r\n            if (res.data[0].children.length > 0) {\r\n              let obj = [];\r\n              obj.push(res.data[0].children[0].groupId);\r\n              obj.push(res.data[0].children[0].id);\r\n              this.valueDetail = obj;\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.getClassifyList();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.header-line {\r\n  padding: 5px;\r\n  // border-bottom: 1px solid #8fc7ba;\r\n  // margin-bottom: 5px;\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\r\n  padding-top: 60px;\r\n}\r\n.rule-form {\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\r\n  overflow-y: auto;\r\n  // margin-top: 10px;\r\n  padding-top: 10px;\r\n\r\n  .inline-input-width {\r\n    display: inline-block;\r\n    width: 460px;\r\n  }\r\n\r\n  /deep/ .el-select {\r\n    width: 100%;\r\n  }\r\n\r\n  /deep/ .el-cascader {\r\n    width: 100%;\r\n  }\r\n\r\n  /deep/ .el-upload--text {\r\n    float: left;\r\n  }\r\n}\r\n\r\n.form {\r\n  /deep/ .el-form-item__content {\r\n    text-align: left;\r\n    .upload-demo {\r\n      text-align: left;\r\n      float: left;\r\n      width: 65px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/menu/NewMaterial.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"header-line\"}),_vm._v(\" \"),_c('div',{staticClass:\"rule-form\"},[_c('el-form',{ref:\"materielForm\",staticClass:\"demo-ruleForm\",attrs:{\"label-position\":_vm.labelPosition,\"model\":_vm.materielForm,\"rules\":_vm.materielRules,\"inline\":false,\"label-width\":\"auto\"}},[_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"分类\",\"prop\":\"classifyId\"}},[_c('el-cascader',{attrs:{\"placeholder\":\"请选择分类\",\"clearable\":\"\",\"filterable\":\"\",\"show-all-levels\":false,\"options\":_vm.classificationOptions,\"props\":{ expandTrigger: 'hover', label: 'name', value: 'id' }},model:{value:(_vm.valueDetail),callback:function ($$v) {_vm.valueDetail=$$v},expression:\"valueDetail\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"编码\",\"prop\":\"code\"}},[_c('el-input',{model:{value:(_vm.materielForm.code),callback:function ($$v) {_vm.$set(_vm.materielForm, \"code\", $$v)},expression:\"materielForm.code\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"数量\",\"prop\":\"quantity\"}},[_c('el-input',{model:{value:(_vm.materielForm.quantity),callback:function ($$v) {_vm.$set(_vm.materielForm, \"quantity\", $$v)},expression:\"materielForm.quantity\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"封装\",\"prop\":\"potting\"}},[_c('el-input',{model:{value:(_vm.materielForm.potting),callback:function ($$v) {_vm.$set(_vm.materielForm, \"potting\", $$v)},expression:\"materielForm.potting\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"型号\",\"prop\":\"model\"}},[_c('el-input',{model:{value:(_vm.materielForm.model),callback:function ($$v) {_vm.$set(_vm.materielForm, \"model\", $$v)},expression:\"materielForm.model\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"厂家型号\",\"prop\":\"factoryModel\"}},[_c('el-input',{model:{value:(_vm.materielForm.factoryModel),callback:function ($$v) {_vm.$set(_vm.materielForm, \"factoryModel\", $$v)},expression:\"materielForm.factoryModel\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"品牌\",\"prop\":\"brand\"}},[_c('el-input',{model:{value:(_vm.materielForm.brand),callback:function ($$v) {_vm.$set(_vm.materielForm, \"brand\", $$v)},expression:\"materielForm.brand\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inline-input-width\",staticStyle:{\"float\":\"rigt\"},attrs:{\"label\":\"价格\",\"prop\":\"price\"}},[_c('el-input',{model:{value:(_vm.materielForm.price),callback:function ($$v) {_vm.$set(_vm.materielForm, \"price\", $$v)},expression:\"materielForm.price\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('div',{staticStyle:{\"float\":\"left\"}},[_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"供应商\",\"prop\":\"supplier\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 10 }},model:{value:(_vm.materielForm.supplier),callback:function ($$v) {_vm.$set(_vm.materielForm, \"supplier\", $$v)},expression:\"materielForm.supplier\"}})],1),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"描述(规格)\",\"prop\":\"remarks\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 10 }},model:{value:(_vm.materielForm.remarks),callback:function ($$v) {_vm.$set(_vm.materielForm, \"remarks\", $$v)},expression:\"materielForm.remarks\"}})],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"float\":\"right\"}},[_c('div'),_vm._v(\" \"),_c('el-form-item',{staticClass:\"inline-input-width\",attrs:{\"label\":\"图片\",\"prop\":\"photo\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"\",\"on-change\":_vm.fileChange,\"show-file-list\":false,\"before-upload\":_vm.beforeAvatarUpload,\"auto-upload\":false}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl,\"width\":\"120\",\"height\":\"120\"}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)],1)]),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\",staticStyle:{\"width\":\"920px\"},attrs:{\"label\":\"备注\",\"prop\":\"note\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"autosize\":{ minRows: 3, maxRows: 10 }},model:{value:(_vm.materielForm.note),callback:function ($$v) {_vm.$set(_vm.materielForm, \"note\", $$v)},expression:\"materielForm.note\"}})],1)],1),_vm._v(\" \"),_c('div',[_c('el-form-item',{staticClass:\"inline-input-width\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('materielForm')}}},[_vm._v(\"确定\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('materielForm')}}},[_vm._v(\"重置\")])],1)],1)])],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"el-dialog__wrap\",attrs:{\"visible\":_vm.isDialogImport,\"close-on-click-modal\":false,\"width\":\"500px\",\"title\":\"上传文件\"},on:{\"update:visible\":function($event){_vm.isDialogImport=$event}}},[_c('el-form',{staticClass:\"form\",attrs:{\"model\":_vm.importForm,\"label-width\":\"100px\"}},[_c('el-form-item',{staticStyle:{\"position\":\"relative\"},attrs:{\"label\":\"选择文件\",\"prop\":\"file\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"\",\"on-change\":_vm.fileChangeT,\"show-file-list\":false,\"auto-upload\":false,\"accept\":\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\"}},[_c('el-button',{staticStyle:{\"background-color\":\"#dfe3e9\"},attrs:{\"slot\":\"trigger\",\"size\":\"small\"},slot:\"trigger\"},[_vm._v(\"选择\")])],1),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"DarkOrange\",\"font-size\":\"16px\"}},[_vm._v(_vm._s(_vm.importForm.file.name))])],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.importNewMaterial}},[_vm._v(\"确 定\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.isDialogImport = false}}},[_vm._v(\"取 消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a87a1d3\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/menu/NewMaterial.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5a87a1d3\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./NewMaterial.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewMaterial.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./NewMaterial.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5a87a1d3\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./NewMaterial.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5a87a1d3\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/menu/NewMaterial.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}