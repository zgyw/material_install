webpackJsonp([10],{"8bwY":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={components:{},data:function(){return{currPageSize:10,conHeight:0,orderDate:[],currentPage:1,total:0,content:"",orderForm:{id:"",name:"",remarks:"",inTime:""},orderDetail:!1}},computed:{watchSiteChange:function(){return 1}},watch:{},mounted:function(){var e=this;this.$nextTick(function(){e.conHeight=e.$refs.conBox.offsetHeight-180}),window.addEventListener("resize",function(){e.$nextTick(function(){e.conHeight=e.$refs.conBox.offsetHeight-180})})},methods:{handleSizeChange:function(e){this.currPageSize=e,this.getOrderList()},handleCurrentChange:function(e){this.currentPage=e,this.getOrderList()},getOrderList:function(){var e=this,t={type:1,status:1,content:this.content,page:this.currentPage-1,size:this.currPageSize};this.orderDate=[],this.total=0,this.$get("/orderRecords/pageList",t).then(function(t){0==t.code&&(e.total=t.data.total,e.orderDate=t.data.orderRecords)})},getOrderInfo:function(e){var t=this,r={id:e};this.$get("/orderRecords/detail",r).then(function(e){0==e.code&&(t.orderForm=e.data)}).catch(function(e){t.$notity.error("")})},openDialog:function(e){this.orderDetail=!0,this.getOrderInfo(e.id)}},created:function(){this.getOrderList()},beforeDestroy:function(){}},o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"conBox",staticStyle:{height:"100%"}},[r("div",{staticClass:"content-all"},[r("div",{staticClass:"title-box"},[r("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{"suffix-icon":"el-icon-search",placeholder:"搜索内容",clearable:""},on:{change:e.getOrderList},model:{value:e.content,callback:function(t){e.content="string"==typeof t?t.trim():t},expression:"content"}})],1),e._v(" "),r("div",{staticClass:"record-table"},[r("el-table",{attrs:{data:e.orderDate,"max-height":e.conHeight,border:"","header-cell-style":{"background-color":"#e3e3e3"}}},[r("el-table-column",{attrs:{prop:"name",label:"订单名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"remarks",label:"订单描述"}}),e._v(" "),r("el-table-column",{attrs:{prop:"inTime",label:"入库时间"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",offset:"-20",content:"详情",placement:"top-start"}},[r("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:function(r){return e.openDialog(t.row)}}},[e._v("详情")])],1)]}}])})],1)],1),e._v(" "),r("div",{ref:"pageBox",staticClass:"block",staticStyle:{"margin-top":"20px",float:"right"}},[r("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50],"page-size":e.currPageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),r("el-dialog",{attrs:{title:"订单详情",visible:e.orderDetail,width:"500px"},on:{"update:visible":function(t){e.orderDetail=t}}},[r("el-form",{ref:"orderForm",staticClass:"order-form",attrs:{model:e.orderForm,"label-width":"120px"}},[r("el-form-item",{attrs:{prop:"name",label:"订单名称:",rules:[{required:!0,message:"请输入订单名称",trigger:"blur"}]}},[r("el-input",{staticStyle:{width:"80%"},attrs:{readonly:""},model:{value:e.orderForm.name,callback:function(t){e.$set(e.orderForm,"name","string"==typeof t?t.trim():t)},expression:"orderForm.name"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"remarks",label:"订单描述:"}},[r("el-input",{staticStyle:{width:"80%"},attrs:{readonly:"",type:"textarea"},model:{value:e.orderForm.remarks,callback:function(t){e.$set(e.orderForm,"remarks","string"==typeof t?t.trim():t)},expression:"orderForm.remarks"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"remarks",label:"入库时间:"}},[r("span",[e._v(e._s(e.orderForm.inTime))])])],1)],1)],1)])},staticRenderFns:[]};var n=r("VU/8")(a,o,!1,function(e){r("b7aB")},"data-v-00cd5221",null);t.default=n.exports},b7aB:function(e,t){}});
//# sourceMappingURL=10.574a623149e5af9b83f4.js.map